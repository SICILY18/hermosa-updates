files:
  "/tmp/cors.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      # CORS Configuration for React Native
      Header always set Access-Control-Allow-Origin "*"
      Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
      Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, Accept, Origin"
      Header always set Access-Control-Max-Age "3600"
      
      # Handle preflight OPTIONS requests
      RewriteEngine On
      RewriteCond %{REQUEST_METHOD} OPTIONS
      RewriteRule ^(.*)$ $1 [R=200,L]

container_commands:
  05_enable_cors:
    command: "cp /tmp/cors.conf /etc/httpd/conf.d/cors.conf" 